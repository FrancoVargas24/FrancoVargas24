<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://use.typekit.net/mdk5yrn.css">
  <link rel="stylesheet" href="https://use.typekit.net/mdk5yrn.css">
  <title>Registro de Ventas de Stickers</title>
  <style>
    body {
      background-color: rgb(22, 22, 22);
      background-image: url(123123.png);
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 1rem;
      display: flex;
      justify-content: center;
      align-content: center;
      flex-direction: column;
      align-items: stretch;
      color: white;
    }
    
    h1 {
      margin-bottom: 1rem;
      font-family: "bebas-neue", sans-serif;
      font-weight: 400;
      font-style: normal;
      font-size: 300%;
    }

    #contador {
      font-size: 4rem;
      margin: 1rem 0;
      font-weight: bold;
      font-family: "bebas-neue", sans-serif;
      font-weight: 400;
      font-style: normal;
      border: 2px solid rgb(255, 255, 255);
      border-radius: 10px;
    }

    .btn {
      padding: 1rem 2rem;
      margin: 0.5rem;
      font-size: 1.2rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.1s;
    }

    .btn:hover {
      transform: scale(1.05);
    }

    .btn-sumar1 { background-color: #0a74da; color: white; }
    .btn-sumar10 { background-color: #1687ef; color: white; }
    .btn-sumar25 { background-color: #84ba36; color: white; }
    .btn-restar { background-color: #ccc; color: black; }
    .btn-borrar { background-color: #ff4c4c; color: white; }
    .btn-aceptar { background-color: #222222; color: white; }

    .contenedor {
      display: flex;
      flex-direction: column;
      align-items: stretch;

      padding: 1rem;
      margin-top: 1rem;
    }

    footer {
      margin: 5%;
      font-family: "montserrat", sans-serif;
      font-weight: 400;
      font-style: normal;
    }

    .logoDisruptive{
      width: 30%;
    }
    .contenedore{
      display: flex;
      justify-content: space-evenly;
      flex-direction: row-reverse;
    }
    #fecha{
      font-family: "montserrat", sans-serif;
      font-weight: 400;
      font-style: normal;
      font-size: x-large;
      text-transform: uppercase;
    }
  </style>
</head>
<body>
  <div class="contenedore">
     <p id="fecha"></p>
  <img class="logoDisruptive" src="LOGOsin fondo.png" alt="">
  </div>
   <h1>Ventas de Stickers</h1>
  <div id="contador">0</div>

  <div class="contenedor">
    <button class="btn btn-restar" onclick="sumar(-1)">-1</button>
    <button class="btn btn-sumar1" onclick="sumar(1)">+1</button>
    <button class="btn btn-sumar10" onclick="sumar(10)">+10</button>
    <button class="btn btn-sumar25" onclick="sumar(25)">+25</button>
    <button class="btn btn-borrar" onclick="borrarContador()">BORRAR</button>
    <button class="btn btn-aceptar" onclick="registrarVenta()">Aceptar</button>
  </div>

  <footer>
    Todos los derechos reservados DisruptiveÂ©
  </footer>

  <script>
    let cantidad = 0;

    function actualizarContador() {
      document.getElementById("contador").innerText = cantidad;
    }

    function sumar(valor) {
      cantidad = Math.max(0, cantidad + valor);
      actualizarContador();
    }

    function borrarContador() {
      cantidad = 0;
      actualizarContador();
    }

    function calcularPrecioUnitario(cant) {
      if (cant >= 25) return 200;
      if (cant >= 10) return 250;
      return 300;
    }

    function registrarVenta() {
      if (cantidad === 0) {
        alert("No se puede registrar 0 stickers.");
        return;
      }

      const precioUnitario = calcularPrecioUnitario(cantidad);
      const total = cantidad * precioUnitario;

      fetch("https://script.google.com/macros/s/AKfycbzjtla3aY5BpwFzby4lWW6kw4_dOfz4zdJFbnyVYpSmYmDdy0RSW6megMwSV8G6jK46lA/exec", {
  method: "POST",
  mode: "no-cors", // Esto es lo nuevo
  headers: {
    "Content-Type": "application/json"
  },
  body: JSON.stringify({
    cantidad: cantidad,
    precioUnitario: precioUnitario,
    total: total
  })
})
.then(() => {
  alert("Venta registrada correctamente.");
  borrarContador();
})
.catch(error => {
  alert("Error al registrar la venta.");
  console.error("Error:", error);
});
    }

    // Mostrar solo fecha sin hora
    const fecha = new Date().toLocaleDateString("es-AR", {
      weekday: "long",
      year: "numeric",
      month: "long",
      day: "numeric"
    });
    document.getElementById("fecha").innerHTML = fecha;
  </script>
</body>
</html>
